<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Handbook コンテンツ管理</title>
    <!-- Pages CMS スタイルシート -->
    <link rel="stylesheet" href="https://unpkg.com/@pages-cms/ui/dist/pages-cms.css" />
    <!-- カスタムスタイル（オプション） -->
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      }
      .pages-cms-branding {
        background-color: #2e8555; /* Docusaurusのデフォルトカラー */
      }
    </style>
  </head>
  <body>
    <!-- Pages CMS マウントポイント -->
    <div id="pages-cms-root"></div>

    <!-- Pages CMS スクリプト -->
    <script src="https://unpkg.com/@pages-cms/ui/dist/pages-cms.js"></script>
    <script>
      // Pages CMS 設定
      window.PagesCMS = {
        // 基本設定
        site: {
          title: 'Handbook 管理システム',
          logo: '/img/logo.png'
        },
        
        // GitHub設定
        github: {
          repo: 'eito1011-JP/Handbook',
          branch: 'main',
          // OAuth設定
          auth: {
            type: 'implicit',
            clientId: 'Ov23liAZfY9EcarUr9jm'
          }
        },
        
        // コンテンツパス設定
        content: {
          basePath: '',
          collections: [
            {
              name: 'docs',
              label: 'ドキュメント',
              path: 'docs',
              create: true,
              fields: [
                {name: 'id', label: 'ID', widget: 'string', required: true},
                {name: 'title', label: 'タイトル', widget: 'string', required: true},
                {name: 'sidebar_label', label: 'サイドバーラベル', widget: 'string', required: false},
                {name: 'sidebar_position', label: 'サイドバー位置', widget: 'number', required: false},
                {name: 'description', label: '説明', widget: 'text', required: false},
                {name: 'tags', label: 'タグ', widget: 'list', required: false},
                {name: 'body', label: '本文', widget: 'markdown', required: true}
              ]
            }
          ]
        },
        
        // メディア設定
        media: {
          folder: 'static/img',
          publicPath: '/img'
        },
        
        // UI設定
        ui: {
          lang: 'ja',
          theme: 'light'
        },
        
        // ワークフロー設定
        workflow: {
          editorial: true,
          branchPrefix: 'cms-edit'
        }
      };
      
      // Pages CMS 初期化
      document.addEventListener('DOMContentLoaded', function() {
        PagesCMS.init();
      });
    </script>
  </body>
</html>